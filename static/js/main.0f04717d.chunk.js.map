{"version":3,"sources":["backend.js","auth/helper/index.js","core/Menu.js","core/Base.js","core/helper/ImageHelper.js","core/Card.js","core/helper/cartHelper.js","core/helper/coreapicalls.js","core/Home.js","user/Signup.js","user/Signin.js","auth/helper/AdminRoutes.js","auth/helper/PrivateRoutes.js","user/UserDashBoard.js","user/AdminDashBoard.js","admin/helper/adminapicall.js","admin/AddCategory.js","admin/ManageCategories.js","admin/AddProduct.js","admin/ManageProducts.js","admin/UpdateProduct.js","admin/UpdateCategory.js","core/paymentb.js","core/helper/paymentbhelper.js","core/helper/orderHelper.js","core/Cart.js","Routes.js","index.js"],"names":["API","process","isAutheticated","window","localStorage","getItem","JSON","parse","currentTab","history","path","location","pathname","color","withRouter","className","style","to","user","role","onClick","next","removeItem","fetch","method","then","response","console","log","catch","err","signout","push","Base","title","description","children","ImageHelper","product","Imageurl","_id","src","alt","maxHeight","maxWidth","Card","addtoCart","removeFromCart","setReload","f","reload","undefined","useState","redirect","setRedirect","count","cartTitle","name","cartDescrption","cartPrice","price","addToCart","item","cart","setItem","stringify","addItemToCart","getARedirect","showAddToCart","productId","map","i","splice","removeItemFromCart","showRemoveFromCart","require","Home","products","setProducts","setError","loadAllProduct","json","data","error","useEffect","index","key","Signup","email","password","success","values","setValues","handleChange","event","target","value","onSubmit","preventDefault","headers","Accept","body","display","onChange","type","Signin","loading","didRedirect","signin","authenticate","class","AdminRoute","Component","component","rest","render","props","state","from","PrivateRoute","UserDashBoard","AdminDashBoard","getCategories","AddCategory","setName","setSuccess","token","onsubmit","userId","category","Authorization","createCategory","successMessage","warningMessage","autoFocus","required","placeholder","ManageCategories","categories","setCategories","preload","deleteThisCategory","categoryId","deleteCategory","AddProduct","stock","photo","createdProduct","getaRedirect","formData","FormData","createaProduct","files","set","accept","cate","ManageProducts","deleteThisProduct","deleteProduct","UpdateProduct","match","getProduct","preloadCategories","params","updateProduct","UpdateCategory","createdCategory","getCategory","updateCategory","Paymentb","clientToken","instance","info","setInfo","getToken","getmeToken","onPurchase","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","getAmount","paymentInfo","reponse","processPayment","orderData","transaction_id","transaction","id","order","createOrder","cartEmpty","p","length","options","authorization","onInstance","Cart","loadCart","loadAllProducts","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0f04717d.chunk.js","sourcesContent":["export const API=process.env.REACT_APP_BACKEND;","import { API } from \"../../backend\";\r\n\r\nexport const signup = user => {\r\n  return fetch(`${API}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify(user)\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const signin = user => {\r\n  return fetch(`${API}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify(user)\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const signout = next => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"jwt\");\r\n    next();\r\n\r\n    return fetch(`${API}/signout`, {\r\n      method: \"GET\"\r\n    })\r\n      .then(response => console.log(\"signout success\"))\r\n      .catch(err => console.log(err));\r\n  }\r\n};\r\n\r\nexport const isAutheticated = () => {\r\n  if (typeof window == \"undefined\") {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem(\"jwt\")) {\r\n    return JSON.parse(localStorage.getItem(\"jwt\"));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAutheticated } from \"../auth/helper\";\r\n\r\nconst currentTab = (history, path) => {\r\n  if (history.location.pathname === path) {\r\n    return { color: \"#2ecc72\" };\r\n  } else {\r\n    return { color: \"#FFFFFF\" };\r\n  }\r\n};\r\n\r\nconst Menu = ({ history }) => (\r\n  <div>\r\n    <ul className=\"nav nav-tabs bg-dark\">\r\n      <li className=\"nav-item\">\r\n        <Link style={currentTab(history, \"/\")} className=\"nav-link\" to=\"/\">\r\n          Home\r\n        </Link>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <Link\r\n          style={currentTab(history, \"/cart\")}\r\n          className=\"nav-link\"\r\n          to=\"/cart\"\r\n        >\r\n          Cart\r\n        </Link>\r\n      </li>\r\n     {isAutheticated() && isAutheticated().user.role===0 && (\r\n        <li className=\"nav-item\">\r\n        <Link\r\n          style={currentTab(history, \"/user/dashboard\")}\r\n          className=\"nav-link\"\r\n          to=\"/user/dashboard\"\r\n        >\r\n          U. Dashboard\r\n        </Link>\r\n      </li>\r\n     )}\r\n     {isAutheticated() && isAutheticated().user.role===1 && (\r\n        <li className=\"nav-item\">\r\n        <Link\r\n          style={currentTab(history, \"/admin/dashboard\")}\r\n          className=\"nav-link\"\r\n          to=\"/admin/dashboard\"\r\n        >\r\n          A. Dashboard\r\n        </Link>\r\n      </li>\r\n     )}\r\n      \r\n      {!isAutheticated() && (\r\n        <Fragment>\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              style={currentTab(history, \"/signup\")}\r\n              className=\"nav-link\"\r\n              to=\"/signup\"\r\n            >\r\n              Signup\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              style={currentTab(history, \"/signin\")}\r\n              className=\"nav-link\"\r\n              to=\"/signin\"\r\n            >\r\n              Sign In\r\n            </Link>\r\n          </li>\r\n        </Fragment>\r\n      )}\r\n      {isAutheticated() && (\r\n        <li className=\"nav-item\">\r\n          <span\r\n            className=\"nav-link text-warning\"\r\n            onClick={() => {\r\n              signout(() => {\r\n                history.push(\"/\");\r\n              });\r\n            }}\r\n          >\r\n            Signout\r\n          </span>\r\n        </li>\r\n      )}\r\n    </ul>\r\n  </div>\r\n);\r\n\r\nexport default withRouter(Menu);\r\n","import React from \"react\";\r\nimport Menu from \"./Menu\";\r\n\r\nconst Base = ({\r\n  title = \"My Title\",\r\n  description = \"My desription\",\r\n  className = \"bg-dark text-white p-4\",\r\n  children\r\n}) => (\r\n  <div>\r\n    <Menu />\r\n    <div className=\"container-fluid\">\r\n      <div className=\"jumbotron bg-dark text-white text-center\">\r\n        <h2 className=\"display-4\">{title}</h2>\r\n        <p className=\"lead\">{description}</p>\r\n      </div>\r\n      <div className={className}>{children}</div>\r\n    </div>\r\n    <footer className=\"footer bg-dark mt-auto py-3\">\r\n      <div className=\"container-fluid bg-success text-white text-center py-3\">\r\n        <h4>If you got any questions, feel free to reach out!</h4>\r\n        <button className=\"btn btn-warning btn-lg\">Contact Us</button>\r\n      </div>\r\n      <div className=\"container\">\r\n        <span className=\"text-muted\">\r\n          An Amazing <span className=\"text-white\">MERN</span> Bootcamp\r\n        </span>\r\n      </div>\r\n    </footer>\r\n  </div>\r\n);\r\n\r\nexport default Base;\r\n","import React from 'react'\r\nimport { API } from '../../backend'\r\n\r\nconst ImageHelper=({product})=> {\r\n    const Imageurl = product ? `${API}/product/photo/${product._id}` : `https://images.pexels.com/photos/3561339/pexels-photo-3561339.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940`\r\n    return (\r\n        <div className=\"rounded border border-success p-2\">\r\n                <img\r\n                  src={Imageurl}\r\n                  alt=\"photo\"\r\n                  style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\r\n                  className=\"mb-3 rounded\"\r\n                />\r\n              </div>\r\n    )\r\n}\r\n\r\nexport default ImageHelper","import React, { useState, useEffect } from \"react\";\r\nimport ImageHelper from \"./helper/ImageHelper\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { addItemToCart, removeItemFromCart } from \"./helper/cartHelper\";\r\n\r\nconst Card = ({ product, addtoCart = true, removeFromCart = false, \r\n     setReload=f=>f,reload=undefined\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [count, setCount] = useState(product.count);\r\n\r\n  const cartTitle = product ? product.name : \"A photo from pexels\";\r\n  const cartDescrption = product ? product.description : \"Default description\";\r\n  const cartPrice = product ? product.price : \"DEFAULT\";\r\n\r\n  const addToCart = () => {\r\n    addItemToCart(product, () => setRedirect(true));\r\n  };\r\n\r\n  const getARedirect = redirect => {\r\n    if (redirect) {\r\n      return <Redirect to=\"/cart\" />;\r\n    }\r\n  };\r\n\r\n  const showAddToCart = addtoCart => {\r\n    return (\r\n      addtoCart && (\r\n        <button\r\n          onClick={addToCart}\r\n          className=\"btn btn-block btn-outline-success mt-2 mb-2\"\r\n        >\r\n          Add to Cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showRemoveFromCart = removeFromCart => {\r\n    return (\r\n      removeFromCart && (\r\n        <button\r\n          onClick={() => {\r\n            removeItemFromCart(product._id)\r\n            setReload(!reload)\r\n          }}\r\n          className=\"btn btn-block btn-outline-danger mt-2 mb-2\"\r\n        >\r\n          Remove from cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"card text-white bg-dark border border-info \">\r\n      <div className=\"card-header lead\">{cartTitle}</div>\r\n      <div className=\"card-body\">\r\n        {getARedirect(redirect)}\r\n        <ImageHelper product={product} />\r\n        <p className=\"lead bg-success font-weight-normal text-wrap\">\r\n          {cartDescrption}\r\n        </p>\r\n        <p className=\"btn btn-success rounded  btn-sm px-4\">$ {cartPrice}</p>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">{showAddToCart(addtoCart)}</div>\r\n          <div className=\"col-12\">{showRemoveFromCart(removeFromCart)}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","export const addItemToCart=  (item,next)   => {\r\n    let cart=[]\r\n    if(typeof window!==undefined){\r\n        if(localStorage.getItem(\"cart\")){\r\n            cart=JSON.parse(localStorage.getItem(\"cart\"))\r\n        }\r\n        cart.push({\r\n            ...item,\r\n            count:1\r\n        })\r\n        localStorage.setItem(\"cart\",JSON.stringify(cart))\r\n        next();\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const loadCart=()=>{\r\n    if(typeof window!==undefined){\r\n        if(localStorage.getItem(\"cart\")){\r\n            return JSON.parse(localStorage.getItem(\"cart\"))\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport const removeItemFromCart=(productId)=>{\r\n    let cart=[]\r\n    if(typeof window!==undefined){\r\n        if(localStorage.getItem(\"cart\")){\r\n            cart=JSON.parse(localStorage.getItem(\"cart\"))\r\n        }\r\n        cart.map((product,i)=>{\r\n            if(product._id === productId){\r\n                cart.splice(i,1);\r\n            }\r\n        })\r\n        localStorage.setItem(\"cart\",JSON.stringify(cart))\r\n    }\r\n    return cart\r\n}\r\n\r\nexport const cartEmpty=(next)=>{\r\n    if(typeof window!==undefined){\r\n        localStorage.removeItem(\"cart\");\r\n        let cart=[]\r\n        localStorage.setItem(\"cart\",JSON.stringify(cart))\r\n         \r\n        next();\r\n    }\r\n}\r\n","\r\n\r\nconst { API } = require(\"../../backend\");\r\n\r\n\r\nexport const getProducts = ()=>{\r\n    return fetch(`${API}/product`,{method:\"GET\"})\r\n    .then(response =>{\r\n        return response.json()\r\n    })\r\n    .catch( err=>{\r\n        console.log(err)\r\n    })\r\n}\r\n","//Home.js\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport \"../styles.css\";\r\nimport { API } from \"../backend\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport { getProducts } from \"./helper/coreapicalls\";\r\n\r\nexport default function Home() {\r\n  const [products, setProducts] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  const loadAllProduct = () => {\r\n    getProducts().then(data => {\r\n      if (data?.error) {\r\n        setError(data?.error);\r\n      } else {\r\n        setProducts(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadAllProduct();\r\n  }, []);\r\n\r\n  return (\r\n    <Base title=\"Home Page\" description=\"Welcome to the Tshirt Store\">\r\n      <div className=\"row text-center\">\r\n        <h1 className=\"text-white\">All of tshirts</h1>\r\n        <div className=\"row\">\r\n        {products && products.map((product, index) => {\r\n            return (\r\n              <div key={index} className=\"col-4 mb-4\">\r\n                <Card product={product}/>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n}\r\n\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signup } from \"../auth/helper\";\r\n\r\nconst Signup = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false\r\n  });\r\n\r\n  const { name, email, password, error, success } = values;\r\n\r\n  const handleChange = name => event => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSubmit = event => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false });\r\n    signup({ name, email, password })\r\n      .then(data => {\r\n        if (data?.error) {\r\n          setValues({ ...values, error: data.error, success: false });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            error: \"\",\r\n            success: true\r\n          });\r\n        }\r\n      })\r\n      .catch(console.log(\"Error in signup\"));\r\n  };\r\n\r\n  const signUpForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Name</label>\r\n              <input\r\n                className=\"form-control\"\r\n                onChange={handleChange(\"name\")}\r\n                type=\"text\"\r\n                value={name}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Email</label>\r\n              <input\r\n                className=\"form-control\"\r\n                onChange={handleChange(\"email\")}\r\n                type=\"email\"\r\n                value={email}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Password</label>\r\n              <input\r\n                onChange={handleChange(\"password\")}\r\n                className=\"form-control\"\r\n                type=\"password\"\r\n                value={password}\r\n              />\r\n            </div>\r\n            <button onClick={onSubmit} className=\"btn btn-success btn-block\">\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const successMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-success\"\r\n            style={{ display: success ? \"\" : \"none\" }}\r\n          >\r\n            New account was created successfully. Please{\" \"}\r\n            <Link to=\"/signin\">Login Here</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            {error}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Sign up page\" description=\"A page for user to sign up!\">\r\n      {successMessage()}\r\n      {errorMessage()}\r\n      {signUpForm()}\r\n      <p className=\"text-white text-center\">{JSON.stringify(values)}</p>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React,{useState} from 'react'\r\nimport Base from '../core/Base';\r\nimport {Link,Redirect} from 'react-router-dom'\r\n\r\nimport { signin,authenticate, isAutheticated}from \"../auth/helper\"\r\n\r\n const Signin=()=> {\r\n     const [values,setValues]=useState({\r\n        email: \"d@hitesh.com\",\r\n        password: \"12345\",\r\n        error: \"\",\r\n        loading: false,\r\n        didRedirect:false\r\n     })\r\n\r\n     const {email,password,error,loading,didRedirect}=values\r\n     const {user}=isAutheticated();\r\n\r\n     const onSubmit= event=>{\r\n         event.preventDefault();\r\n         setValues({...values,error:false,loading:true})\r\n         signin({email,password})\r\n         .then(data=>{\r\n             if(data?.error){\r\n                setValues({...values,error:data.error,loading:false})\r\n             }\r\n             else{\r\n                 authenticate(data,()=>{\r\n                     setValues({\r\n                         ...values,\r\n                         didRedirect:true\r\n                     })\r\n                 })\r\n             }\r\n         })\r\n         .catch(console.log(\"signin request failed\"))\r\n     }\r\n     \r\n  const handleChange = name => event => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const performRedirect=()=>{\r\n    if(didRedirect){\r\n      if(user && user.role===1){\r\n        return <Redirect to=\"/admin/dashboard\"/>\r\n      }else{\r\n        return <Redirect to=\"/user/dashboard\"/>\r\n      }\r\n    }\r\n    if(isAutheticated()){\r\n      return <Redirect to=\"/\" />\r\n    }\r\n  }\r\n  const LoadingMessage = () => {\r\n    return (\r\n      loading && (\r\n        <div className=\"alert alert-info\">\r\n          <h2>\r\n            loading...\r\n          </h2>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            {error}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n\r\n    const singinform=()=>{\r\n        return(\r\n         <div class=\"row\">\r\n          <div class=\"col-md-6 offset-sm-3 text-left\">\r\n              <form>\r\n                  <div className=\"form-group\">\r\n                       <label className=\"text-white\">email</label>\r\n                       <input  onChange={handleChange(\"email\")} value={email} className=\"form-control\"  type=\"email\"/>\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                       <label className=\"text-white\">Password</label>\r\n                       <input onChange={handleChange(\"password\")} value={password} className=\"form-control\" type=\"password\"/>\r\n                  </div>\r\n                  <button onClick={onSubmit} className=\"btn btn-success btn-block\">Submit</button>\r\n              </form>\r\n          </div>\r\n         </div>\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <Base title=\"sign in page\" description=\"a page for user to sign in\">\r\n            {LoadingMessage()}\r\n            {errorMessage()}\r\n            {singinform()}\r\n    <p className=\"text-center text-white \">{JSON.stringify(values)}</p>\r\n            {performRedirect()}\r\n        </Base>\r\n    )\r\n}\r\nexport default Signin;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAutheticated } from \"./index\";\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        isAutheticated() && isAutheticated().user.role === 1 ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/signin\",\r\n              state: { from: props.location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default AdminRoute;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAutheticated } from \"./index\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        isAutheticated() ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/signin\",\r\n              state: { from: props.location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport Base from '../core/Base';\r\n\r\nconst UserDashBoard = ()=> {\r\n    return (\r\n        <Base title=\"this is a UserDashBoard page\">\r\n        <h1>This is a profile page</h1>\r\n        </Base>\r\n    )\r\n};\r\nexport default  UserDashBoard;","import React from 'react'\r\nimport Base from \"../core/Base\"\r\nimport { isAutheticated } from '../auth/helper'\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AdminDashBoard= ()=> {\r\n\r\n     const\r\n     {\r\n         user:{name,email,role}\r\n    }=isAutheticated();\r\n\r\nconst adminLeftSide =()=>{\r\n\r\nreturn(\r\n   <div className=\"card\">\r\n<h4 className=\"card-header bg-dark text-white\">Admin Navigation</h4>\r\n<ul className=\"list-group\">\r\n          \r\n            <li className=\"list-group-item\">\r\n               <Link to=\"/admin/create/category\" className=\"nav-link text-success\">\r\n               Create Categories\r\n               </Link>\r\n            </li>\r\n            <li className=\"list-group-item\">\r\n               <Link to=\"/admin/categories\" className=\"nav-link text-success\">\r\n               Manage Categories\r\n               </Link>\r\n            </li>\r\n            <li className=\"list-group-item\">\r\n            <Link to=\"/admin/create/product\" className=\"nav-link text-success\">\r\n            Create product\r\n            </Link>\r\n         </li>\r\n            <li className=\"list-group-item\">\r\n            <Link to=\"/admin/products\" className=\"nav-link text-success\">\r\n            Manage products\r\n            </Link>\r\n         </li>\r\n         <li className=\"list-group-item\">\r\n            <Link to=\"/admin/orders\" className=\"nav-link text-success\">\r\n           Manage orders\r\n            </Link>\r\n         </li>\r\n\r\n            </ul>\r\n   </div>\r\n\r\n)\r\n}\r\n\r\nconst adminRightSide =()=>{\r\n    return( \r\n             <div className=\"card mb-4\">\r\n                <h4 className=\"card-header\">Admmin info</h4>\r\n                     <ul class=\"list-group\">\r\n                     <li className=\"list-group-item\">\r\n                     <span className=\"badge badge-success mr-2\">Name:</span>{name}\r\n                     </li>\r\n                     <li className=\"list-group-item\">\r\n                     <span className=\"badge badge-success mr-2\">email:</span>{email}\r\n                     </li>\r\n\r\n                     <li className=\"list-group-item\">\r\n                     <span className=\"badge badge-danger\">admin area</span>\r\n                     </li>\r\n                     </ul>\r\n             </div>\r\n    )\r\n}\r\n\r\n    return (\r\n        <Base title=\"Welcome to admin area\" description=\"Manage all of your products here\" className=\"container bg-success p-4 \">\r\n        <div className=\"row\">\r\n        <div className=\"col-3\">{adminLeftSide()}</div>\r\n        <div className=\"col-9\">{adminRightSide()}</div>\r\n        </div>\r\n        </Base>\r\n    )\r\n}\r\nexport default  AdminDashBoard;","import { API } from \"../../backend\";\r\n\r\n//category calls\r\nexport const createCategory = (userId, token, category) => {\r\n  return fetch(`${API}/category/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify(category)\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n//get all categories\r\nexport const getCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: \"GET\"\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n//update a category\r\nexport const updateCategory=(categoryId, userId, token, category)=>{\r\n  return fetch(`${API}/category/${categoryId}/${userId}`,{\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: category\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n//delete a category\r\nexport const deleteCategory = (categoryId, userId, token) => {\r\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n//get a Category\r\n\r\nexport const getCategory = categoryId => {\r\n  return fetch(`${API}/category/${categoryId}`, {\r\n    method: \"GET\"\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n\r\n\r\n\r\n//products calls\r\n\r\n//create a product\r\nexport const createaProduct = (userId, token, product) => {\r\n  return fetch(`${API}/product/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: product\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n//get all products\r\nexport const getProducts = () => {\r\n    return fetch(`${API}/product`, {\r\n      method: \"GET\"\r\n    })\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n//delete a product\r\n\r\nexport const deleteProduct = (productId, userId, token) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n//get a product\r\n\r\nexport const getProduct = productId => {\r\n  return fetch(`${API}/product/${productId}`, {\r\n    method: \"GET\"\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n//update a product\r\n\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: product\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n","import React,{useState} from 'react'\r\nimport Base from '../core/Base';\r\nimport { isAutheticated } from '../auth/helper';\r\nimport { Link } from 'react-router-dom';\r\nimport { createCategory } from './helper/adminapicall';\r\n\r\n\r\nconst  AddCategory= ()=> {\r\n\r\n    const [name,setName]=useState(\"\")\r\n    const [error, setError] = useState(false)\r\n    const [success, setSuccess] = useState(false)\r\n\r\n    const{user , token}=isAutheticated();\r\n\r\n    const goBack=()=>(\r\n        <div className=\"mt-5\">\r\n        <Link className=\"btn btn-success btn-sm mb-3\" to=\"/admin/dashboard\">Admin Home</Link>\r\n        </div>\r\n    )\r\n    const handleChange= event=>{\r\n      setError(\"\");\r\n      setName(event.target.value);\r\n    }\r\n    const onsubmit=event=>{\r\n      event.preventDefault();\r\n      setError(\"\");\r\n      setSuccess(false);\r\n\r\n      //backend\r\n      createCategory(user._id,token,{name})\r\n      .then(data=>{\r\n          if(data.error){\r\n              setError(true)\r\n          }\r\n          else{\r\n              setError(\"\")\r\n              setSuccess(true)\r\n              setName(\"\")\r\n          }\r\n      })\r\n    }\r\n\r\n    const successMessage=()=>{\r\n        if(success){\r\n            return <h4 className=\"text-success\">Category Created successfully</h4>\r\n        }\r\n\r\n    }\r\n    const warningMessage=()=>{\r\n       if(error){\r\n        return <h4 className=\"text-success\">Failed to create category</h4>\r\n\r\n       }\r\n    }\r\n\r\n    const myCategoryForm =()=>(\r\n        <form>\r\n        <div className=\"form-group\">\r\n        <p className=\"lead\">Enter the Category</p>\r\n        <input type=\"text\" className=\"form-control my-3\" autoFocus required onChange={handleChange} value={name} placeholder=\"For Ex. Summer \"/>\r\n        <button className=\"btn btn-outline-info\" onClick={onsubmit}>Create Category</button>\r\n        </div>\r\n        </form>\r\n    )\r\n    return (\r\n      <Base title=\"Create a category here\" description=\"add a new category of tshirt\"\r\n      className=\"container bg-info p-4\">\r\n      <div className=\"row bg-white rounded\">\r\n         <div className=\"col-md-8 offset-md-2\">\r\n         {successMessage()}\r\n         {warningMessage()}\r\n         {myCategoryForm() }\r\n          {goBack()}\r\n         </div>\r\n      </div>\r\n      </Base>\r\n    )\r\n}\r\nexport default AddCategory;\r\n","import React, { useState, useEffect } from 'react'\r\nimport Base from '../core/Base';\r\nimport { Link } from 'react-router-dom';\r\nimport { isAutheticated } from '../auth/helper';\r\nimport { getCategories,deleteCategory } from './helper/adminapicall';\r\n\r\nconst ManageCategories=()=> {\r\n\r\n    const  [categories, setCategories] = useState([]);\r\n\r\n  const { user, token } = isAutheticated();\r\n\r\n  const preload = () => {\r\n    getCategories().then(data => {\r\n      if (data.error) {\r\n        console.log(data.error)\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n\r\n   const deleteThisCategory=(categoryId)=>{\r\n        deleteCategory(categoryId,user._id,token).then(data=>{\r\n          if(data.error){\r\n            console.log(data.error);\r\n          }\r\n          else{\r\n            preload();\r\n          }\r\n        })\r\n  }\r\n\r\n\r\n    return (\r\n        <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n      <h2 className=\"mb-4\">All products:</h2>\r\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-white my-3\">Total 3 products</h2>\r\n           {categories.map( (category,index)=>{\r\n            return (\r\n                <div key={index} className=\"row text-center mb-2 \">\r\n                  <div className=\"col-4\">\r\n                    <h3 className=\"text-white text-left\">{category.name}</h3>\r\n                  </div>\r\n                  <div className=\"col-4\">\r\n                    <Link\r\n                      className=\"btn btn-success\"\r\n                      to={`/admin/category/update/${category._id}`}\r\n                    >\r\n                      <span className=\"\">Update</span>\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"col-4\">\r\n                    <button\r\n                      onClick={() => {\r\n                        deleteThisCategory(category._id);\r\n                      }}\r\n                      className=\"btn btn-danger\"\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          \r\n        </div>\r\n      </div>\r\n    </Base>\r\n    )\r\n}\r\nexport default ManageCategories;","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getCategories, createaProduct } from \"./helper/adminapicall\";\r\nimport { isAutheticated } from \"../auth/helper/index\";\r\n\r\nconst AddProduct = () => {\r\n  const { user, token } = isAutheticated();\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    photo: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    getaRedirect: false,\r\n    formData: \"\"\r\n  });\r\n\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    stock,\r\n    categories,\r\n    category,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    getaRedirect,\r\n    formData\r\n  } = values;\r\n\r\n  const preload = () => {\r\n    getCategories().then(data => {\r\n      //console.log(data);\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({ ...values, categories: data, formData: new FormData() });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const onSubmit = event => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n    createaProduct(user._id, token, formData).then(data => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: \"\",\r\n          description: \"\",\r\n          price: \"\",\r\n          photo: \"\",\r\n          stock: \"\",\r\n          loading: false,\r\n          createdProduct: data.name\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleChange = name => event => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const successMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-3\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{createdProduct} created successfully</h4>\r\n    </div>\r\n  );\r\n\r\n  const createProductForm = () => (\r\n    <form>\r\n      <span>Post photo</span>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-block btn-success\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <select\r\n          onChange={handleChange(\"category\")}\r\n          className=\"form-control\"\r\n          placeholder=\"Category\"\r\n        >\r\n          <option>Select</option>\r\n          {categories &&\r\n            categories.map((cate, index) => (\r\n              <option key={index} value={cate._id}>\r\n                {cate.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Stock\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        className=\"btn btn-outline-success mb-3\"\r\n      >\r\n        Create Product\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Base\r\n      title=\"Add a product here!\"\r\n      description=\"Welcome to product creation section\"\r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n        Admin Home\r\n      </Link>\r\n      <div className=\"row bg-dark text-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {createProductForm()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAutheticated } from \"../auth/helper\";\r\nimport { getProducts, deleteProduct } from \"./helper/adminapicall\";\r\nconst ManageProducts = () => {\r\n  const [products, setProducts] = useState({name:\"\",product:[],error:false});\r\nconst{product,name}=products;\r\n\r\n  const { user, token } = isAutheticated();\r\n\r\n  const preload = () => {\r\n    getProducts().then(data => {\r\n      if (data?.error) {\r\n        setProducts({ ...products, error: data.error });\r\n\r\n      } else {\r\n        setProducts({...products,product:data,name:data.name});\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const deleteThisProduct=(productId)=>{\r\n        deleteProduct(productId,user._id,token).then(data=>{\r\n          if(data.error){\r\n            console.log(data.error);\r\n          }\r\n          else{\r\n            preload();\r\n          }\r\n        })\r\n  }\r\n\r\n  return (\r\n    <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n      <h2 className=\"mb-4\">All products:</h2>\r\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-white my-3\">Total 3 products</h2>\r\n\r\n          {product.map((product, index) => {\r\n            return (\r\n              <div key={index} className=\"row text-center mb-2 \">\r\n                <div className=\"col-4\">\r\n                  <h3 className=\"text-white text-left\">{product.name}</h3>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <Link\r\n                    className=\"btn btn-success\"\r\n                    to={`/admin/product/update/${product._id}`}\r\n                  >\r\n                    <span className=\"\">Update</span>\r\n                  </Link>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <button\r\n                    onClick={() => {\r\n                      deleteThisProduct(product._id);\r\n                    }}\r\n                    className=\"btn btn-danger\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default ManageProducts;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  getCategories,\r\n  getProduct,\r\n  updateProduct\r\n} from \"./helper/adminapicall\";\r\nimport { isAutheticated } from \"../auth/helper/index\";\r\n\r\nconst UpdateProduct = ({ match }) => {\r\n  const { user, token } = isAutheticated();\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    photo: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    getaRedirect: false,\r\n    formData: \"\"\r\n  });\r\n\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    stock,\r\n    categories,\r\n    category,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    getaRedirect,\r\n    formData\r\n  } = values;\r\n\r\n  const preload = productId => {\r\n    getProduct(productId).then(data => {\r\n      //console.log(data);\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        preloadCategories();\r\n        setValues({\r\n          ...values,\r\n          name: data.name,\r\n          description: data.description,\r\n          price: data.price,\r\n          category: data.category._id,\r\n          stock: data.stock,\r\n          formData: new FormData()\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const preloadCategories = () => {\r\n    getCategories().then(data => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          categories: data,\r\n          formData: new FormData()\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload(match.params.productId);\r\n  }, []);\r\n\r\n  //TODO: work on it\r\n  const onSubmit = event => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    updateProduct(match.params.productId, user._id, token, formData).then(\r\n      data => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            description: \"\",\r\n            price: \"\",\r\n            photo: \"\",\r\n            stock: \"\",\r\n            loading: false,\r\n            createdProduct: data.name\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const handleChange = name => event => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const successMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-3\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{createdProduct} updated successfully</h4>\r\n    </div>\r\n  );\r\n\r\n  const createProductForm = () => (\r\n    <form>\r\n      <span>Post photo</span>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-block btn-success\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <select\r\n          onChange={handleChange(\"category\")}\r\n          className=\"form-control\"\r\n          placeholder=\"Category\"\r\n        >\r\n          <option>Select</option>\r\n          {categories &&\r\n            categories.map((cate, index) => (\r\n              <option key={index} value={cate._id}>\r\n                {cate.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Stock\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        className=\"btn btn-outline-success mb-3\"\r\n      >\r\n        Update Product\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Base\r\n      title=\"Add a product here!\"\r\n      description=\"Welcome to product creation section\"\r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n        Admin Home\r\n      </Link>\r\n      <div className=\"row bg-dark text-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {createProductForm()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  getCategory,\r\n  updateCategory\r\n} from \"./helper/adminapicall\";\r\nimport { isAutheticated } from \"../auth/helper/index\";\r\n\r\nconst UpdateCategory = ({ match }) => {\r\n  const { user, token } = isAutheticated();\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdCategory: \"\",\r\n    getaRedirect: false,\r\n    formData: \"\"\r\n  });\r\n\r\n  const {\r\n    name,\r\n    loading,\r\n    error,\r\n    createdCategory,\r\n    getaRedirect,\r\n    formData\r\n  } = values;\r\n\r\n  const preload = categoryId => {\r\n    getCategory(categoryId).then(data => {\r\n      //console.log(data);\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: data.name,\r\n          formData: new FormData()\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n \r\n\r\n  useEffect(() => {\r\n    preload(match.params.categoryId);\r\n  }, []);\r\n\r\n  //TODO: work on it\r\n  const onSubmit = event => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    updateCategory(match.params.categoryId, user._id, token,formData).then(\r\n      data => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            loading: false,\r\n            createdCategory: data.name\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const handleChange = name => event => {\r\n    const value = event.target.value;\r\n    formData.set(name, value);\r\n\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const successMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-3\"\r\n      style={{ display: createdCategory ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{createdCategory} updated successfully</h4>\r\n    </div>\r\n  );\r\n\r\n  const createCategoryForm = () => (\r\n    <form>\r\n      <span>Update Category</span>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      \r\n\r\n      <button\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        className=\"btn btn-outline-success mb-3\"\r\n      >\r\n        Update Product\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Base\r\n      title=\"Update Category here!\"\r\n      description=\"Welcome to Category Updaten section\"\r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n        Admin Home\r\n      </Link>\r\n      <div className=\"row bg-dark text-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {createCategoryForm()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default UpdateCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { loadCart, cartEmpty } from \"./helper/cartHelper\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getmeToken, processPayment } from \"./helper/paymentbhelper\";\r\nimport { createOrder } from \"./helper/orderHelper\";\r\nimport { isAutheticated } from \"../auth/helper\";\r\n\r\nimport DropIn from \"braintree-web-drop-in-react\";\r\n\r\nconst Paymentb = ({ products, setReload = f => f, reload = undefined }) => {\r\n  const [info, setInfo] = useState({\r\n    loading: false,\r\n    success: false,\r\n    clientToken: null,\r\n    error: \"\",\r\n    instance: {}\r\n  });\r\n\r\n  const userId = isAutheticated() && isAutheticated().user._id;\r\n  const token = isAutheticated() && isAutheticated().token;\r\n\r\n  const getToken = (userId, token) => {\r\n    getmeToken(userId, token).then(info => {\r\n      // console.log(\"INFORMATION\", info);\r\n      if (info.error) {\r\n        setInfo({ ...info, error: info.error });\r\n      } else {\r\n        const clientToken = info.clientToken;\r\n        setInfo({ clientToken });\r\n      }\r\n    });\r\n  };\r\n\r\n  const showbtdropIn = () => {\r\n    return (\r\n      <div>\r\n        {info.clientToken !== null && products.length > 0 ? (\r\n          <div>\r\n            <DropIn\r\n              options={{ authorization: info.clientToken }}\r\n              onInstance={instance => (info.instance = instance)}\r\n            />\r\n            <button className=\"btn btn-block btn-success\" onClick={onPurchase}>\r\n              Buy\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <h3>Please login or add something to cart</h3>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    getToken(userId, token);\r\n  }, []);\r\n\r\n  const onPurchase = () => {\r\n    setInfo({ loading: true });\r\n    let nonce;\r\n    let getNonce = info.instance.requestPaymentMethod().then(data => {\r\n      nonce = data.nonce;\r\n      const paymentData = {\r\n        paymentMethodNonce: nonce,\r\n        amount: getAmount()\r\n      };\r\n      processPayment(userId, token, paymentData)\r\n        .then(response => {\r\n          setInfo({ ...info, success: response.success, loading: false });\r\n          console.log(\"PAYMENT SUCCESS\");\r\n          const orderData = {\r\n            products: products,\r\n            transaction_id: response.transaction.id,\r\n            amount: response.transaction.amount\r\n          };\r\n          createOrder(userId, token, orderData);\r\n          cartEmpty(() => {\r\n            console.log(\"Did we got a crash?\");\r\n          });\r\n\r\n          setReload(!reload);\r\n        })\r\n        .catch(error => {\r\n          setInfo({ loading: false, success: false });\r\n          console.log(\"PAYMENT FAILED\");\r\n        });\r\n    });\r\n  };\r\n\r\n  const getAmount = () => {\r\n    let amount = 0;\r\n    products.map(p => {\r\n      amount = amount + p.price;\r\n    });\r\n    return amount;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Your bill is {getAmount()} $</h3>\r\n      {showbtdropIn()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paymentb;\r\n","import { API } from \"../../backend\";\r\n\r\nexport const getmeToken = (userId, token) => {\r\n  return fetch(`${API}/payment/gettoken/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentInfo) => {\r\n  return fetch(`${API}/payment/braintree/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify(paymentInfo)\r\n  })\r\n    .then(reponse => {\r\n      return reponse.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n","import { API } from \"../../backend\";\r\n\r\nexport const createOrder = (userId, token, orderData) => {\r\n  return fetch(`${API}/order/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify({ order: orderData })\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"../styles.css\";\r\nimport { API } from \"../backend\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport { loadCart } from \"./helper/cartHelper\";\r\nimport Paymentb from \"./paymentb\";\r\n\r\nconst Cart = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [reload, setReload] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setProducts(loadCart());\r\n  }, [reload]);\r\n\r\n  const loadAllProducts = products => {\r\n    return (\r\n      <div>\r\n        <h2>This section is to load products</h2>\r\n        {products.map((product, index) => (\r\n          <Card\r\n            key={index}\r\n            product={product}\r\n            removeFromCart={true}\r\n            addtoCart={false}\r\n            setReload={setReload}\r\n            reload={reload}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n  const loadCheckout = () => {\r\n    return (\r\n      <div>\r\n        <h2>This section for checkout</h2>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Cart Page\" description=\"Ready to checkout\">\r\n      <div className=\"row text-center\">\r\n        <div className=\"col-6\">\r\n          {products.length > 0 ? (\r\n            loadAllProducts(products)\r\n          ) : (\r\n            <h4>No products</h4>\r\n          )}\r\n        </div>\r\n        <div className=\"col-6\">\r\n          <Paymentb products={products} setReload={setReload} />\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport Home from \"./core/Home\";\r\nimport Signup from \"./user/Signup\";\r\nimport Signin from \"./user/Signin\";\r\nimport AdminRoute from \"./auth/helper/AdminRoutes\";\r\nimport PrivateRoute from \"./auth/helper/PrivateRoutes\";\r\nimport UserDashBoard from \"./user/UserDashBoard\";\r\nimport AdminDashBoard from \"./user/AdminDashBoard\";\r\nimport AddCategory from \"./admin/AddCategory\";\r\nimport ManageCategories from \"./admin/ManageCategories\";\r\nimport AddProduct from \"./admin/AddProduct\";\r\nimport ManageProducts from \"./admin/ManageProducts\";\r\nimport UpdateProduct from \"./admin/UpdateProduct\";\r\nimport UpdateCategory from \"./admin/UpdateCategory\";\r\nimport Cart from \"./core/Cart\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/signup\" exact component={Signup} />\r\n        <Route path=\"/signin\" exact component={Signin} />\r\n        <Route path=\"/cart\" exact component={Cart} />\r\n        <PrivateRoute path=\"/user/dashboard\" exact component={UserDashBoard} />\r\n        <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashBoard} />\r\n        <AdminRoute path=\"/admin/create/category\" exact component={AddCategory} />\r\n        <AdminRoute path=\"/admin/categories\" exact component={ManageCategories} />\r\n        <AdminRoute path=\"/admin/create/product\" exact component={AddProduct} />\r\n        <AdminRoute path=\"/admin/products\" exact component={ManageProducts} />\r\n        <AdminRoute path=\"/admin/product/update/:productId\" exact component={UpdateProduct} />\r\n        <AdminRoute path=\"/admin/category/update/:categoryId\" exact component={UpdateCategory} />\r\n\r\n        \r\n\r\n\r\n\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\r\nimport Routes from \"./Routes\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}